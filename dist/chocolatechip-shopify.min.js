/*
ChocolateChip.js for Shopify
Copyright 2014 Sourcebits www.sourcebits.com
License: MIT
Version: 3.8.1
*/
!function(){"use strict";var t=function(t){return"string"==typeof t?[]:t&&t.length&&void 0===t[0]?[]:t&&t.length?t:[]},e=function(t,n){var i=/^#([\w-]*)$/,r=/^\.([\w-]+)$/,s=/^[\w-]+$/,a=function(t){var e=document.getElementById(t.split("#")[1]);return e?[e]:[]},u=function(t,e){return[].slice.apply(e?e.getElementsByTagName(t):document.getElementsByTagName(t))},o=function(t,e){return[].slice.apply(e?e.getElementsByClassName(t.split(".")[1]):document.getElementsByClassName(t.split(".")[1]))},c=function(t,e){return"string"==typeof t&&(t=t.trim()),"string"==typeof t&&i.test(t)?a(t):t&&t instanceof Array&&t.length?t:e||"string"!=typeof t?[].slice.apply(e?e.querySelectorAll(t):document.querySelectorAll(t)):s.test(t)?u(t):r.test(t)?o(t):[].slice.apply(document.querySelectorAll(t))};if("undefined"==typeof t||t===document)return[document];if(null===t)return[];if(n){if("string"==typeof n)return[].slice.apply(document.querySelectorAll(n+" "+t));if(1===n.nodeType)return c(t,n)}else if("function"==typeof t)e.ready(function(){return t.call(t)});else{if(t&&1===t.nodeType)return[t];if("string"==typeof t){if(""===t)return[];if(/<\/?[^>]+>/.test(t))return e.make(t);try{return c(t)?c(t):[]}catch(h){return[]}}else{if(t instanceof Array)return t;if(/NodeListConstructor/i.test(t.constructor.toString()))return[].slice.apply(t);if(t===window)return[]}}return this};e.extend=function(t,n,i){return i=i||!1,n||(n=t,t=e),Object.keys(n).forEach(function(e){n.hasOwnProperty(e)&&Object.defineProperty(t,e,{value:n[e],writable:!0,enumerable:i,configurable:!0})}),this},e.extend({version:"3.8.1",libraryName:"ChocolateChip",slice:Array.prototype.slice,make:function(t){var n=[],i=document.createElement("div");return i.innerHTML=t,i=e.slice.apply(i.childNodes),i.forEach(function(t){1===t.nodeType?n.push(t):3===t.nodeType&&0!==t.nodeValue.trim().length&&n.push(t)}),n},html:function(t){return this.make(t)},replace:function(t,e){t&&e&&(t=t.length?t[0]:t,e=e.length?e[0]:e,e.parentNode.replaceChild(t,e))},require:function(t,n){n=n||e.noop;var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",t),i.onload=i.onreadystatechange=function(){i.readyState&&"complete"!==i.readyState||n.apply(n,arguments)},e("head").insert(i,"last")},processJSON:function(t,n){n=null!==n||void 0!==n?"var "+n+" = ":"var data = ";var i=document.createElement("script");i.setAttribute("type","text/javascript");var r="_"+e.uuidNum();i.setAttribute("id",r),i.html(n+t),e("head").append(i),e.defer(function(){var t="#"+r;e(t).remove()})},delay:function(t,n){t=t||e.noop,setTimeout(function(){t.call(t)},n)},defer:function(t){return t=t||e.noop,e.delay.apply(e,[t,1].concat(e.slice.call(arguments,1)))},noop:function(){},concat:function(t){return t instanceof Array?t.join(""):t instanceof Object?void 0:(t=e.slice.apply(arguments),String.prototype.concat.apply(t.join("")))},w:function(t){return t.split(" ")},isString:function(t){return"string"==typeof t},isArray:function(t){return Array.isArray(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isEmptyObject:function(t){return 0===Object.keys(t).length},isNumber:function(t){return"number"==typeof t},isInteger:function(t){return"number"==typeof t&&t%1===0},isFloat:function(t){return"number"==typeof t&&t%1!==0},uuidNum:function(){return Math.floor(4294967296*(1+Math.random()))},makeUuid:function(){return e.concat("chch_",e.uuid)},uuid:0,chch_cache:{},fn:{}}),e.fn.extend=function(t){return e.extend(Array.prototype,t)},e.uuid=e.uuidNum(),e.chch_cache.data={},e.chch_cache.events={},e.extend(e.chch_cache.events,{keys:[],values:[],set:function(t,n,i,r){var s,a,u=this.values.length>0?this.values.length-1:0;t.id?s=t.id:(++e.uuid,s=e.makeUuid(),t.setAttribute("id",s)),this.keys.indexOf(s)>=0?(this.values[u].push([]),a=this.values[u],a.push(n),a.push(i),a.push(r),t.addEventListener(n,i,r)):(this.keys.push(s),this.values.push([]),u=this.values.length-1,this.values[u].push([]),a=this.values[u],a[0].push(n),a[0].push(i),a[0].push(r),t.addEventListener(n,i,r))},hasKey:function(t){return this.keys.indexOf(t)>=0?!0:!1},_delete:function(t,n,i){var r=this,s=this.keys.indexOf(t),a=this.values;t&&("undefined"==typeof n&&(a[s].each(function(n){document.getElementById(t).removeEventListener(n[0],n[1],n[2]),e.chch_cache.events.keys.splice(s,1),a[s].splice(s,1)}),a.splice(s,1)),n&&i&&a[s].each(function(i){i[0]===n&&(document.getElementById(t).removeEventListener(i[0],i[1],i[2]),e.chch_cache.events.values.splice(s,1),e.chch_cache.events.keys.splice(s,1))}),n&&"undefined"==typeof i&&r.values[s].each(function(i){i[0]===n&&(document.getElementById(t).removeEventListener(i[0],i[1],i[2]),e.chch_cache.events.values.splice(s,1),e.chch_cache.events.keys.splice(s,1))}))}}),e.fn.extend({each:function(t,e){if(!this.length)return[];if("function"==typeof t){var n,i=this.length;for(e=arguments[1],n=0;i>n;n++)n in this&&this.hasOwnProperty(n)&&t.call(e,this[n],n,this);return this}},unique:function(){var t=[],e=this.sort();return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t.length?t:[]},eq:function(t){return this.length?(t=parseInt(t,10),this.length<t+1?[]:0>t?this[this.length+t]?[this[this.length+t]]:[]:0===t||t?[this[t]]:[]):[]},index:function(t){if(!this.length)return[];var n;return t?this.indexOf(t instanceof Array?t[0]:1===t.nodeType?t:t):(n=e(this[0]),n.parent().children().indexOf(n[0]))},is:function(t){if(!this.length||!t)return[];if(!this.length)return[];var n,i=[],r=function(t,i){if(n=this,"string"==typeof i){if([].slice.apply(t.parentNode.querySelectorAll(i)).indexOf(t)>=0)return t}else if("function"==typeof i){if(i.call(n))return t}else if(i&&i.length){if(-1!==e.slice.apply(i).indexOf(t))return t}else{if(1!==i.nodeType)return[];if(t===i)return t}};return this.each(function(e){r(e,t)&&i.push(e)}),i.length?i:[]},isnt:function(t){if(!this.length)return[];var n,i=[],r=function(t,i){if(n=this,"string"==typeof i){if(-1===[].slice.apply(t.parentNode.querySelectorAll(i)).indexOf(t))return t}else if("function"==typeof i){if(i.call(n))return t}else if(i.length){if(-1===e.slice.apply(i).indexOf(t))return t}else{if(1!==i.nodeType)return[];if(t!==i)return t}};return this.each(function(e){r(e,t)&&i.push(e)}),i.length?i:[]},has:function(t){if(!this.length)return[];var n=[],i=function(t,n){if("string"==typeof n){if(t.querySelector(n))return t}else{if(1!==n.nodeType)return!1;if(e.slice.apply(this.children).indexOf(n))return t}};return this.each(function(e){i(e,t)&&n.push(e)}),n.length?n:[]},hasnt:function(t){if(!this.length)return[];var n=[];return this.each(function(i){"string"==typeof t?i.querySelector(t)||n.push(i):1===t.nodeType&&(e.slice.apply(i.children).indexOf(t)||n.push(i))}),n.length?n:[]},find:function(t,n){var i=[];return this.length?(n?n.each(function(){e.slice.apply(n.querySelectorAll(t)).each(function(t){i.push(t)})}):this.each(function(n){e.slice.apply(n.querySelectorAll(t)).each(function(t){i.push(t)})}),i):i},css:function(t,n){if(!this.length)return[];var i=[];if(!t)return[];if(!n&&t instanceof Object){if(!this.length)return;this.each(function(n){for(var r in t)t.hasOwnProperty(r)&&(n.style[e.camelize(r)]=t[r]);i.push(n)})}else{if(!n&&"string"==typeof t){if(!this.length)return;return document.defaultView.getComputedStyle(this[0],null).getPropertyValue(t.toLowerCase())}if(n){if(!this.length)return[];this.each(function(r){r.style[e.camelize(t)]=n,i.push(r)})}}return i.length?i:[]},width:function(){return this.length?this.eq(0)[0].clientWidth:void 0},height:function(){return this.length?this.eq(0)[0].clientHeight:void 0},offset:function(){if(this.length){var t=this.eq(0)[0].getBoundingClientRect();return{top:Math.round(t.top),left:Math.round(t.left),bottom:Math.round(t.bottom),right:Math.round(t.right)}}},prependTo:function(t){return this.length?(this.reverse(),this.each(function(n){e(t)[0].insertBefore(n,e(t)[0].firstChild)}),this):[]},appendTo:function(t){return this.length?(this.each(function(n){e(t).append(n)}),this):[]},before:function(t){if(!this.length)return[];var n=function(t,n){if("string"==typeof n&&(n=e.make(n)),n&&n.constructor===Array)for(var i=n.length,r=0;i>r;)t.insertAdjacentElement("beforeBegin",n[r]),r++;else n&&1===n.nodeType&&t.insertAdjacentElement("beforeBegin",n);return t};return this.each(function(e){n(e,t)}),this},after:function(t){if(!this.length)return[];var n=function(t,n){var i=t.parentNode;if("string"==typeof n&&(n=e.make(n)),n&&n.constructor===Array)for(var r=0,s=n.length;s>r;)t===i.lastChild?i.appendChild(n[r]):i.insertBefore(n[r],t.nextSibling),r++;else n&&1===n.nodeType&&i.appendChild(n);return this};return this.each(function(e){n(e,t)}),this},text:function(t){if(!this.length)return[];var e="",n=function(t,e){return e||0===e?(t.innerText=e,t):t.innerText};return this.each(function(i){t?n(i,t):e+=n(i)}),t?this:e},insert:function(t,n){if(!this.length)return[];var i=function(t,n,i){t instanceof Array&&(t=t[0]);var r=[];"string"==typeof n?r=e.make(n):n&&1===n.nodeType?r.push(n):n instanceof Array&&(r=n);var s=0,a=r.length;if(!i||i>t.children.length+1||"last"===i)for(;a>s;)t.appendChild(r[s]),s++;else if(1===i||"first"===i){if(t.children)if(t.firstElementChild)for(;a>s;)t.insertBefore(r[s],t.firstChild),s++;else for(;a>s;)t.insertBefore(r[s],t.firstChild),s++}else for(;a>s;)t.insertBefore(r[s],t.childNodes[i]),s++;return t},r=t;return"string"==typeof r?this.each(function(e){i(e,t,n)}):r instanceof Array?this.each(function(t){(1===n||"first"===n)&&(r=r.reverse()),r.each(function(e){i(t,e,n)})}):1===r.nodeType&&this.each(function(t){i(t,r,n)}),this},html:function(t){if(!this.length)return[];var e=[],n=function(t,n){""===n?(t.innerHTML="",e.push(t)):n?(t.innerHTML=n,e.push(t)):n||(e=t.innerHTML)};return this.each(function(e){n(e,t)}),e.length?e:[]},prepend:function(t){return this.length?(this.insert(t,"first"),this):[]},append:function(t){return this.length?(this.insert(t,"last"),this):[]},attr:function(t,e){if(!this.length)return[];var n=[],i=function(t,e,n){return n?t.setAttribute(e,n):t.getAttribute(e)};if(e)this.each(function(r){i(r,t,e),n.push(r)});else if(this[0].hasAttribute(t))return this[0].getAttribute(t);return n.length?n:void 0},prop:function(t,e){return this.length?this.attr(t,e):[]},hasAttr:function(e){if(!this.length)return[];var n=[];return this.each(function(t){t.hasAttribute(e)&&n.push(t)}),t(n)},removeAttr:function(e){if(!this.length)return[];var n=[];return this.each(function(t){t.hasAttribute(e)&&(t.removeAttribute(e),n.push(t))}),t(n)},hasClass:function(e){if(!this.length)return[];var n=[],i=[];return/\s/.test(e)&&(i=e.split(" ")),this.each(function(t){i.length?(i.forEach(function(e){t&&t.classList&&t.classList.contains(e)&&n.push(t)}),n=n.unique()):t&&t.classList&&t.classList.contains(e)&&n.push(t)}),t(n)},addClass:function(e){if(!this.length)return[];if("string"==typeof e){var n,i=[];return this.each(function(t){/\s/.test(e)?(n=e.split(" "),n.each(function(e){t.classList.add(e)})):t.classList.add(e),i.push(t)}),t(i)}},removeClass:function(e){if(!this.length)return[];var n,i=[];return this.each(function(t){t&&(/\s/.test(e)?(n=e.split(" "),n.each(function(e){t.classList.remove(e)})):t.classList.remove(e),""===t.getAttribute("class")&&t.removeAttribute("class"),i.push(t))}),t(i)},toggleClass:function(e){if(!this.length)return[];var n=[];return this.each(function(t){t.classList.toggle(e),n.push(t)}),t(n)},dataset:function(n,i){if(!this.length)return[];var r=[];return"string"==typeof i&&i.length>=0?(this.each(function(t){t.dataset[n]=i,r.push(t)}),t(r)):this[0].dataset[e.camelize(n)]},val:function(t){return this.length?"string"==typeof t?(this[0].value=t,this):this[0]&&this[0].value?this[0].value:void 0:[]},disable:function(){if(!this.length)return[];var e=[];return this.each(function(t){t.classList.add("disabled"),t.setAttribute("disabled",!0),t.style.cursor="default"}),t(e)},enable:function(){if(!this.length)return[];var e=[];return this.each(function(t){t.classList.remove("disabled"),t.removeAttribute("disabled"),t.style.cursor="auto"}),t(e)},hide:function(n,i){if(!this.length)return[];var r=i||e.noop;if(!this.length)return[];{var s=[],a="",u={},o={opacity:0,height:0,padding:0};e.isWebkit?"-webkit-transition":"transition"}return this.each(function(t){u.padding=e(t).css("padding"),u.height=e(t).css("height"),u.opacity=e(t).css("opacity"),u.display=e(t).css("display"),e(t).data("ui-dimensions",u),"string"==typeof n?"slow"===n?(e(t).css({transition:"all 1s ease-out"}),e(t).css(o),setTimeout(function(){e(t).css({visibility:"hidden",display:"none"}),r.apply(t,arguments)},1e3)):"fast"===n&&(e(t).css({transition:"all .35s ease-in-out"}),e(t).css(o),setTimeout(function(){e(t).css({visibility:"hidden",display:"none"}),r.apply(t,arguments)},350)):"number"==typeof n&&(a="all "+n+"ms ease-in-out",e(t).css({transition:a}),e(t).css(o),setTimeout(function(){e(t).css({visibility:"hidden",display:"none"}),r.apply(t,arguments)},n)),i||"function"!=typeof n||(e(t).css({display:"none",visibility:"hidden"}),n.apply(t,arguments)),n||(e(t).data("",""),e(t).css({display:"none",visibility:"hidden"})),s.push(t)}),t(s)},show:function(t,n){if(!this.length)return[];{var i=n||e.noop,r=function(t,e,n){return{opacity:t,height:e,padding:n}};e.isWebkit?"-webkit-transition":"transition"}this.each(function(n){var s=e(n).data("ui-dimensions"),a=s&&s.height||"auto",u=s&&s.padding||"auto",o=s&&s.opacity||1,c=s&&s.display||"block";"string"==typeof t?"slow"===t?(e(n).css({visibility:"visible",display:c}),setTimeout(function(){e(n).css({transition:"all 1s ease-out"}),e(n).css(r(o,a,u)),setTimeout(function(){i.apply(n,arguments)},1e3)})):"fast"===t&&(e(n).css({visibility:"visible",display:c}),setTimeout(function(){e(n).css({transition:"all .250s ease-out"}),e(n).css(r(o,a,u)),setTimeout(function(){i.apply(n,arguments)},250)})):"number"==typeof t&&(e(n).css({visibility:"visible",display:c}),setTimeout(function(){e(n).css({transition:"all "+t+"ms ease-out"}),e(n).css(r(o,a,u)),setTimeout(function(){i.apply(n,arguments)},t)})),t||e(n).css({display:c,visibility:"visible",opacity:o})})},prev:function(){if(!this.length)return[];var t=[];return this.each(function(e){e.previousElementSibling&&t.push(e.previousElementSibling)}),t},next:function(){if(!this.length)return[];var t=[];return this.each(function(e){e.nextElementSibling&&t.push(e.nextElementSibling)}),t},first:function(){if(!this.length)return[];var t=[];return this.each(function(e){e.firstElementChild&&t.push(e.firstElementChild)}),t},last:function(){if(!this.length)return[];var t=[];return this.each(function(e){e.lastElementChild&&t.push(e.lastElementChild)}),t},children:function(t){if(!this.length)return[];var e=[];return t?this.forEach(function(n){[].slice.apply(n.children).forEach(function(n){[n].is(t)[0]&&e.push(n)})}):this.each(function(t){[].slice.apply(t.children).forEach(function(t){e.push(t)})}),e},parent:function(){if(!this.length)return[];var e=[];return this.each(function(t){e.push(t.parentNode)}),e=e.unique(),t(e)},ancestor:function(t){if(!this.length)return[];var n=[];if("undefined"==typeof t)return[];var i=this[0],r=null,s=null,a=null,u=i.parentNode;if(!u||u===document)return[];if("string"==typeof t&&t.trim(),"number"==typeof t){r=t||1;for(var o=1;r>o;o++){if("HTML"===u.nodeName)return u;null!==u&&(u=u.parentNode)}n.push(u)}else"string"==typeof t&&"."===t.substr(0,1)?(s=t.split(".")[1],u.classList.contains(s)?n.push(u):(a=e(u).ancestor(t)[0],a&&n.push(a))):"string"==typeof t&&"#"===t.substr(0,1)?(s=t.split("#")[1],u.getAttribute("id")===s?n.push(u):(a=e(u).ancestor(t)[0],a&&n.push(a))):u.tagName&&u.tagName.toLowerCase()===t?n.push(u):(a=e(u).ancestor(t)[0],a&&n.push(a));return n},closest:function(t){return this.ancestor(t)},siblings:function(t){if(!this.length)return[];var n,i=[];return t=t&&"string"==typeof t?t:!1,this.each(function(r){n=e(r).parent().children(),n.splice(n.indexOf(r),1),n.each(t?function(e){[e].is(t)[0]&&i.push(e)}:function(t){i.push(t)})}),i.length?i.unique():this},off:function(t,n,i,r){if(!this.length)return[];var s=[];return this.each(function(a){"function"!=typeof n&&n?(e(a).undelegate(n,t,i,r),s.push(a)):(e(a).unbind(t,n,i),s.push(a))}),s.length?s:this},clone:function(t){if(!this.length)return[];var e=[];return this.each(function(n){e.push(t!==!0&&t?n.cloneNode(!1):n.cloneNode(!0))}),e.length?e[0]:this},wrap:function(t){return this.length?(this.each(function(n){var i=e.make(t);i=i[0];var r=e(n).clone(!0);i.appendChild(r),n.parentNode.insertBefore(i,n.nextSibling),e(n).remove(n)}),this):[]},unwrap:function(){if(!this.length)return[];var t=null;return this.each(function(n){return n.parentNode!==t?(t=n.parentNode,"BODY"===n.parentNode.nodeName?!1:void e.replace(n,n.parentNode)):void 0}),this},remove:function(){return this.length?void this.each(function(t){e(t).unbind(),e(t).removeData(),t.parentNode.removeChild(t)}):[]},empty:function(){if(!this.length)return[];var n=[];return this.each(function(t){e(t).unbind(),t.textContent="",n.push(t)}),t(n)}}),e.extend(e,{DOMReadyList:[],executeWhenDOMReady:function(){for(var t=e.DOMReadyList.length,n=0;t>n;)e.DOMReadyList[n](),n++;e.DOMReadyList=[],document.removeEventListener("DOMContentLoaded",e.executeWhenDOMReady,!1)},ready:function(t){document.getElementsByTagName("body")[0]?t():(0===e.DOMReadyList.length&&document.addEventListener("DOMContentLoaded",e.executeWhenDOMReady,!1),e.DOMReadyList.push(t))}}),e.fn.extend({ready:function(t){return this.length?void e.ready(function(){return t.call(t)}):[]}}),e.extend(e,{camelize:function(t){return"string"==typeof t?t.replace(/\-(.)/g,function(t,e){return e.toUpperCase()}):void 0},deCamelize:function(t){return"string"==typeof t?t.replace(/([A-Z])/g,"-$1").toLowerCase():void 0},capitalize:function(t,n){if(t&&"string"==typeof t){if(n){var i=t.split(" "),r=[];return i.each(function(t){r.push(e.capitalize(t))}),r.join(" ")}return t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()}}}),e.extend(e,{form2JSON:function(t,n){function i(t){for(var e=[],n=t.firstChild;n;){if(n.nodeName.match(/INPUT|SELECT|TEXTAREA/i))e.push({name:n.name,value:r(n)});else{var s=i(n);e=e.concat(s)}n=n.nextSibling}return e}function r(t){if("INPUT"===t.nodeName){if("radio"===t.type.toLowerCase()||"checkbox"===t.type.toLowerCase()){if(t.checked)return t.value}else if(!t.type.toLowerCase().match(/button|reset|submit|image/i))return t.value}else{if("TEXTAREA"===t.nodeName)return t.value;if("SELECT"===t.nodeName)return s(t)}return""}function s(t){var n=t.multiple;if(!n)return t.value;if(t.selectedIndex>-1){var i=[];return e("option",t).each(function(t){t.selected&&i.push(t.value)}),i}}t="string"==typeof t?e(t)[0]:t,n=n||".";var a=i(t),u={},o={};return a.each(function(t){var e=t.value;if(""!==e)for(var i=t.name,r=i.split(n),s=u,a=0;a<r.length;a++){var c,h=r[a];if(h.indexOf("[]")>-1&&a===r.length-1)c=h.substr(0,h.indexOf("[")),s[c]||(s[c]=[]),s[c].push(e);else if(h.indexOf("[")>-1){c=h.substr(0,h.indexOf("["));var l=h.replace(/^[a-z]+\[|\]$/gi,"");o[c]||(o[c]={}),s[c]||(s[c]=[]),a===r.length-1?s[c].push(e):o[c][l]||(s[c].push({}),o[c][l]=s[c][s[c].length-1]),s=o[c][l]}else a<r.length-1?(s[h]||(s[h]={}),s=s[h]):s[h]=e}}),u}}),e.extend(e,{ajax:function(t){var n={type:"GET",beforeSend:e.noop,success:e.noop,error:e.noop,context:null,async:!0,timeout:0};e.extend(n,t);{var i={script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",form:"application/x-www-form-urlencoded"},r=new XMLHttpRequest,s=new e.Deferred,a=n.type||"GET",u=n.async||!1,o=n.data||null;t.context||s}if(r.queryString=o,r.timeout=n.timeout?n.timeout:0,r.open(a,n.url,u),n.headers)for(var c in n.headers)n.headers.hasOwnProperty(c)&&r.setRequestHeader(c,n.headers[c]);n.dataType&&r.setRequestHeader("Content-Type",i[n.dataType]),r.handleResp=n.success;var h=function(){0===r.status&&4===r.readyState||r.status>=200&&r.status<300&&4===r.readyState||304===r.status&&4===r.readyState?n.dataType&&"json"===n.dataType?(r.handleResp(JSON.parse(r.responseText)),s.resolve(r.responseText,n.context,r)):(r.handleResp(r.responseText),s.resolve(r.responseText,n.context,r)):r.status>=400&&("function"==typeof n.error&&n.error(r),s.reject(r.status,n.context,r))};return u?(n.beforeSend!==e.noop&&n.beforeSend(r,n),r.onreadystatechange=h,r.send(o)):(n.beforeSend!==e.noop&&n.beforeSend(r,n),r.send(o),h()),s},get:function(t,n,i,r){return t?n?(r||(r=null),"function"!=typeof n||i?"string"==typeof n&&"function"==typeof i?e.ajax({url:t,type:"GET",data:n,success:i,dataType:r}):void 0:e.ajax({url:t,type:"GET",success:n})):e.ajax({url:t,type:"GET"}):(new e.Deferred).reject(412)},getJSON:function(t,n,i){t&&n&&("function"!=typeof n||i?"string"==typeof n&&"function"==typeof i&&e.ajax({url:t,type:"GET",data:n,success:i,dataType:"json"}):e.ajax({url:t,type:"GET",async:!0,success:n,dataType:"json"}))},JSONP:function(t){var n={url:null,callback:e.noop,callbackType:"callback=?",timeout:null};e.extend(n,t);var i=new e.Deferred,r="fn_"+e.uuidNum(),s=document.createElement("script"),a=e("head")[0];s.setAttribute("id",r);var u=new Date;window[r]=function(t){a.removeChild(s),n.callback(t),i.resolve(t,"resolved",n),delete window[r]};var o=n.callbackType.substr(0,n.callbackType.length-1);if(s.src=n.url.replace(n.callbackType,o+r),a.appendChild(s),n.timeout){setTimeout(function(){new Date-u>0&&(i.reject("timedout",n),n.callback=e.noop)},n.timeout)}return i},post:function(t,n,i,r){return t&&n?"function"!=typeof n||r?"string"==typeof n&&"function"==typeof i?(r||(r="form"),e.ajax({url:t,type:"POST",data:n,success:i,dataType:r})):"object"==typeof n&&n.constructor===FormData&&"function"==typeof i?e.ajax({url:t,type:"POST",data:n,success:i,dataType:null}):void 0:(r="string"==typeof i?i:"form",e.ajax({url:t,type:"POST",success:n,dataType:r})):(new e.Deferred).reject(412)}}),e.fn.extend({bind:function(t,n,i){return this.length?(i=i||!1,this.each(function(r){e.chch_cache.events.set(r,t,n,i)}),this):[]},unbind:function(t,n,i){if(!this.length)return[];var r;return this.each(function(s){return s.id&&e.chch_cache.events.hasKey(s.id)?(i=i||!1,r=s.getAttribute("id"),void e.chch_cache.events._delete(r,t,n,i)):this}),this},trigger:function(t){return this.length?void this.each(function(e){if(document.createEvent){var n=document.createEvent("Events");n.initEvent(t,!0,!1),e.dispatchEvent(n)}}):[]},delegate:function(t,n,i,r){return this.length?(r=r||!1,void this.each(function(s){s.addEventListener(n,function(n){var r=n.target;3===n.target.nodeType&&(r=n.target.parentNode),e(t,s).each(function(s){if(s===r)i.call(s,n);else try{var a=e(r).ancestor(t);s===a[0]&&i.call(s,n)}catch(u){}})},r)})):[]},undelegate:function(t,n,i,r){return this.length?void this.each(function(t){e(t).unbind(n,i,r)}):[]},on:function(t,n,i,r){if(!this.length)return[];!n&&/Object/gim.test(t.constructor.toString())&&this.each(function(n){for(var i in t)t.hasOwnProperty(i)&&e(n).on(i,t[i])});var s,a=[];return"string"==typeof t&&(t=t.trim(),/\s/.test(t)&&(s=t.split(" "),s.length&&this.each(function(t){s.each(function(s){"function"==typeof n?(e(t).bind(s,n,i),a.push(t)):(e(t).delegate(n,s,i,r),a.push(t))})}))),this.each(function(s){"function"==typeof n?(e(s).bind(t,n,i),a.push(s)):(e(s).delegate(n,t,i,r),a.push(s))}),a.length?a:this}}),e.extend(e,{isiPhone:/iphone/gim.test(navigator.userAgent),isiPad:/ipad/gim.test(navigator.userAgent),isiPod:/ipod/gim.test(navigator.userAgent),isiOS:/ip(hone|od|ad)/gim.test(navigator.userAgent),isAndroid:/android/gim.test(navigator.userAgent)&&!/trident/gim.test(navigator.userAgent),isWebOS:/webos/gim.test(navigator.userAgent),isBlackberry:/blackberry/gim.test(navigator.userAgent),isTouchEnabled:"createTouch"in document,isOnline:navigator.onLine,isStandalone:navigator.standalone,isiOS6:navigator.userAgent.match(/OS 6/i),isiOS7:navigator.userAgent.match(/OS 7/i),isWin:/trident/gim.test(navigator.userAgent),isWinPhone:/trident/gim.test(navigator.userAgent)&&/mobile/gim.test(navigator.userAgent),isIE10:navigator.userAgent.match(/msie 10/i),isIE11:navigator.userAgent.match(/msie 11/i),isWebkit:navigator.userAgent.match(/webkit/),isMobile:/mobile/gim.test(navigator.userAgent),isDesktop:!/mobile/gim.test(navigator.userAgent),isSafari:!/Chrome/gim.test(navigator.userAgent)&&/Safari/gim.test(navigator.userAgent)&&!/android/gim.test(navigator.userAgent),isChrome:/Chrome/gim.test(navigator.userAgent),isNativeAndroid:/android/i.test(navigator.userAgent)&&/webkit/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent)}),e.extend(e,{templates:{},template:function(t,e){var n,i,r;e=e?e:"data",n=/\[\[=([\s\S]+?)\]\]/g,i="[[",r="]]";var s=new Function(e,"var p=[];p.push('"+t.replace(/[\r\t\n]/g," ").split("'").join("\\'").replace(n,"',$1,'").split(i).join("');").split(r).join("p.push('")+"');return p.join('');");return s}}),e.extend(e,{subscriptions:{},subscribe:function(t,n){var i=e.uuidNum();return e.subscriptions[t]||(e.subscriptions[t]=[]),e.subscriptions[t].push({token:i,callback:n}),i},unsubscribe:function(t){setTimeout(function(){for(var n in e.subscriptions)if(e.subscriptions[n])for(var i=0,r=e.subscriptions[n].length;r>i;i++)if(e.subscriptions[n][i].token===t)return e.subscriptions[n].splice(i,1),t;return!1})},publish:function(t,n){return e.subscriptions[t]?void setTimeout(function(){for(var i=e.subscriptions[t]?e.subscriptions[t].length:0;i--;)e.subscriptions[t][i].callback(t,n);return!0}):!1}}),e.extend({Deferred:function(t){var n="pending",i=[],r=[],s=[],a=null,u={done:function(){for(var t=0;t<arguments.length;t++)if(arguments[t])if(Array.isArray(arguments[t]))for(var e=arguments[t],r=0;r<e.length;r++)"resolved"===n&&e[r].apply(this,a),i.push(e[r]);else"resolved"===n&&arguments[t].apply(this,a),i.push(arguments[t]);return this},fail:function(){for(var t=0;t<arguments.length;t++)if(arguments[t])if(Array.isArray(arguments[t]))for(var e=arguments[t],i=0;i<e.length;i++)"rejected"===n&&e[i].apply(this,a),r.push(e[i]);else"rejected"===n&&arguments[t].apply(this,a),r.push(arguments[t]);return this},always:function(){return this.done.apply(this,arguments).fail.apply(this,arguments)},progress:function(){for(var t=0;t<arguments.length;t++)if(arguments[t])if(Array.isArray(arguments[t]))for(var e=arguments[t],i=0;i<e.length;i++)"pending"===n&&s.push(e[i]);else"pending"===n&&s.push(arguments[t]);return this},then:function(){arguments.length>1&&arguments[1]&&this.fail(arguments[1]),arguments.length>0&&arguments[0]&&this.done(arguments[0]),arguments.length>2&&arguments[2]&&this.progress(arguments[2])},promise:function(t){if(null===t||void 0===t)return u;for(var e in u)t[e]=u[e];return t},state:function(){return n},debug:function(){console.log("[debug]",i,r,n)},isRejected:function(){return"rejected"===n},isResolved:function(){return"resolved"===n},pipe:function(t,n){var i=function(t,n){if(e.isArray(t))for(var i=0;i<t.length;i++)n(t[i]);else n(t)};return e.Deferred(function(e){i(t,function(t){o.done("function"==typeof t?function(){var n=t.apply(this,arguments);n&&"function"==typeof n?n.promise().then(e.resolve,e.reject,e.notify):e.resolve(n)}:e.resolve)}),i(n,function(t){o.fail("function"==typeof t?function(){var n=t.apply(this,arguments);n&&"function"==typeof n?n.promise().then(e.resolve,e.reject,e.notify):e.reject(n)}:e.reject)})}).promise()}},o={resolveWith:function(t){if("pending"===n){n="resolved",a=arguments.length>1?arguments[1]:[];for(var e=0;e<i.length;e++)i[e].apply(t,a)}return this},rejectWith:function(t){if("pending"===n){n="rejected",a=arguments.length>1?arguments[1]:[];for(var e=0;e<r.length;e++)r[e].apply(t,a)}return this},notifyWith:function(t){if("pending"===n){a=2<=arguments.length?e.slice.call(arguments,1):[];for(var i=0;i<s.length;i++)s[i].apply(t,a)}return this},resolve:function(){return this.resolveWith(this,arguments)},reject:function(){return this.rejectWith(this,arguments)},notify:function(){return this.notifyWith(this,arguments)}},c=u.promise(o);return t&&t.apply(c,[c]),c}}),e.extend({when:function(){if(arguments.length<2){var t=arguments.length?arguments[0]:void 0;return t&&"function"==typeof t.isResolved&&"function"==typeof t.isRejected?t.promise():e.Deferred().resolve(t).promise()}return function(t){var n=e.Deferred(),i=t.length,r=0,s=[];s.length=i;for(var a=0;a<t.length;a++)!function(e){t[e].done(function(){s[e]=arguments.length<2?arguments[0]:arguments,++r===i&&n.resolve.apply(n,s)}).fail(function(){n.reject(arguments)})}(a);return n.promise()}(arguments)}}),e.fn.extend({data:function(t,n){if(!this.length)return[];var i,r=this[0];if(i=r.id,"undefined"!==t&&null!==t){if(n||0===n){var s=n;r.id?(i=r.id,e.chch_cache.data[i]?e.chch_cache.data[i][t]=s:(e.chch_cache.data[i]={},e.chch_cache.data[i][t]=s)):(++e.uuid,i=e.makeUuid(),r.setAttribute("id",i),e.chch_cache.data[i]={},e.chch_cache.data[i][t]=s)}else if(t&&i){if(!e.chch_cache.data[i])return;if(0===e.chch_cache.data[i][t])return e.chch_cache.data[i][t];if(!e.chch_cache.data[i][t])return;return e.chch_cache.data[i][t]}return this}},removeData:function(t){return this.length?void this.each(function(n){var i=n.getAttribute("id");if(i)return e.chch_cache.data[n.id]?t?(0===Object.keys(e.chch_cache.data[i]).length?delete e.chch_cache.data[i]:delete e.chch_cache.data[i][t],this):(delete e.chch_cache.data[i],this):this}):[]}}),window.$chocolatechipjs=e,"undefined"==typeof window.$&&(window.$=e)}();